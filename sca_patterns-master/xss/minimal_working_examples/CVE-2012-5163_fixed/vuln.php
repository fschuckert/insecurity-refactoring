<?php

require_once('./source.php');
require_once('./db_fake.php');

$mCategory = new DBClass();

$id=Params::getParam("id") ;
$result = array();

$aCategory = $mCategory->findByPrimaryKey( $id ) ;


if( $aCategory == false ) {
    # not exploitable -> %d filters everything except numbers
    $result = array( 'error' => sprintf( "It doesn't exist a category with this id: %d", $id) ) ;
    echo json_encode($result);
}
else 
{
    $aUpdated[] = array('id' => $id);
    $result['affectedIds'] = $aUpdated ;
    echo json_encode($result) ;
}



?>