<?php

$pdo;

$pdo = new PDO('sqlite:test.sql', null, null, array(PDO::ATTR_PERSISTENT => true));
$pdo->query("CREATE TABLE test (id int, val varchar(255));");

function DBI_fetch_row($id)
{
    $retval = array();

    global $pdo;

    $stmt = $pdo->prepare("SELECT val FROM test WHERE id=:id");
    if($stmt->execute(array(':id' => $id))){
        while( $row = $stmt->fetch()){
            $retval['trigger'] = $row['val'];
        }
    }

    return $retval;
}

class Database
{    

    function fetch_result($id)
    {
        $function = 'DBI_fetch_row';
        return $function($id);
    }

    function insert($id, $value)
    {
        global $pdo;

        $stmt = $pdo->prepare("INSERT INTO test VALUES (:id, :val)");
        $stmt->execute(array(':id' => $id, ':val' => $value));
    }
}

?>