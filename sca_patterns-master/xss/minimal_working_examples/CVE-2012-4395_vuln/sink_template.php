<?php

class Template
{
    private $vars;
    private $template;

    public function __construct(){
        $vars = array();
    }

    public function setTemplate( $path ){
        $this->template = $path;
    }

    public function assign( $key, $value ){
		$this->vars[$key] = $value;
		return true;
    }
    
    public function printPage(){
        $data = $this->fetchPage();
        if( $data === false ){
			return false;
		}
		else{
			print $data;
			return true;
		}
    }

    public function fetchPage(){
        $_ = $this->vars;

        ob_start();
		include( $this->template ); // <-- we have to use include because we pass $_!
		$data = ob_get_contents();
        @ob_end_clean();
        
        return $data;
    }




    public static function printExamplePage( $parameters = array() ){
        $content = new Template();
        foreach( $parameters as $key => $value ){
            $content->assign( $key, $value );
        }
        $content->setTemplate('./template.php');
        return $content->printPage();
    }
}


?>